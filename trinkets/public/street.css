:root {
  --leggy-scale: 8; /* make legs 40% bigger */
}

body {
  margin: 0;
  background-image: url("assets/street.png");
  background-position: 50% 50%;
  background-repeat: no-repeat;
  font-family: "Bitter", serif;
  overflow: hidden;
}

#walkerLayer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
}

/* Walker container */
.walker {
  position: absolute;
  will-change: transform;
  contain: layout paint;
  filter: drop-shadow(0 8px 16px rgba(0,0,0,.3));
  opacity: 0;
  transform: translate3d(0,0,0) scale(0.96);
  transition: opacity 600ms ease, transform 600ms ease;
}
.walker.show {
  opacity: 1;
  transform: translate3d(0,0,0) scale(1);
}

/* Leggy */
.walker .gif {
  display: block;
  width: calc(var(--leggy-scale, 1) * 180px);
  height: auto;
  transform-origin: center bottom;
  transform: scale(var(--pulse, 1));
  animation: legPulse 2.5s ease-in-out infinite;
}

/* Trinket */
.walker .trinket {
  position: absolute;
  left: 35%;
  top: 30%;
  width: var(--trinket-w, 400px);
  height: auto;
  transform: translate(-50%, -50%) translate(var(--offset-x, 0px), var(--offset-y, 0px));
  border-radius: 10px;
  object-fit: cover;
  background: transparent !important;
  mix-blend-mode: multiply;
  filter: drop-shadow(0 4px 8px rgba(0,0,0,.25));
}

/* WALKERS */
.leggy-wrap{
  position: fixed;
  top: 0; left: 0;
  translate: -50% -50%;
  pointer-events: none;
  will-change: transform, opacity;
  z-index: 2; /* above bg */
  animation-fill-mode: both;
  /* movement animation is applied inline from JS:
     animation: walkLR 18s linear infinite; */
}

.leggy-img{
  display:block;
  image-rendering: auto;
  filter: drop-shadow(0 14px 22px rgba(0,0,0,.22));
  /* pulse is set from JS with a per-walker delay */
}

.trinket-pin{
  position:absolute;
  left:50%; top:50%;
  translate:-50% -50%;
  width: var(--trinket-size, 80px);
  height: var(--trinket-size, 80px);
  object-fit: contain; /* keep transparent bg */
  pointer-events: none;
  filter: drop-shadow(0 6px 12px rgba(0,0,0,.2));
}

/* Horizontal travel; we use negative delays (JS) to randomize starting phase */
@keyframes walkLR{
  from{ transform: translateX(-20vw); }
  to  { transform: translateX(120vw); }
}
@keyframes walkRL{
  from{ transform: translateX(120vw); }
  to  { transform: translateX(-20vw); }
}

/* Gentle breathing pulse, each walker gets a different delay/duration */
@keyframes pulse {
  0%,100% { transform: scale(1) }
  50%     { transform: scale(1.06) }
}

